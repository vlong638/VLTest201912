<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Views>
	<View ViewName="PregnantInfo">
		<Properties>
			<Property IsOn="true" ColumnName="id" Alias ="pi.id"/>
			<Property IsOn="true" ColumnName="personname" Alias ="pi.personname"/>
			<Property IsOn="true" ColumnName="sexcode" Alias ="pi.sexcode"/>
			<Property IsOn="true" ColumnName="idcard" Alias ="pi.idcard"/>
		</Properties>
		<Wheres>
			<Where ComponentName="personname" Formatter="%@personname%">pi.PersonName like @personname</Where>
			<Where ComponentName="sexcode"> pi.sexcode = @sexcode</Where>
		</Wheres>
		<OrderBys>
			<OrderBy ComponentName="id" Alias ="pi.id"/>
			<OrderBy ComponentName="personname" Alias ="pi.personname"/>
			<OrderBy ComponentName="sexcode" Alias ="pi.sexcode"/>
		</OrderBys>
		<SQL>
			select @Fields
			from PregnantInfo pi
			@Wheres
			@OrderBy
			@Pager
		</SQL>
	</View>
	<View ViewName="User">
		<Properties>
			<Property IsOn="true" ColumnName="id" Alias ="u.id"/>
			<Property IsOn="true" ColumnName="name" Alias ="u.name"/>
			<Property IsOn="true" ColumnName="rolenames" Alias ="
(select r.Name+ ','
from A_User u 
left join A_UserRole ur on u.id = ur.userid
left join A_Role r on ur.roleid = r.id
for xml path('')) as rolenames
"/>
		</Properties>
		<Wheres>
			<Where ComponentName="name" Formatter="%@name%">u.name like @name</Where>
		</Wheres>
		<OrderBys>
			<OrderBy ComponentName="id" Alias ="u.id"/>
			<OrderBy ComponentName="name" Alias ="u.name"/>
		</OrderBys>
		<SQL>
			select @Fields
			from A_User u
			@Wheres
			@OrderBy
			@Pager
		</SQL>
	</View>
	<View ViewName="Role">
		<Properties>
			<Property IsOn="true" ColumnName="id" Alias ="r.id"/>
			<Property IsOn="true" ColumnName="name" Alias ="r.name"/>
		</Properties>
		<Wheres>
			<Where ComponentName="name" Formatter="%@name%">r.name like @name</Where>
		</Wheres>
		<OrderBys DefaultComponentName="id" DefaultOrder="asc">
			<OrderBy ComponentName="id" Alias ="r.id"/>
			<OrderBy ComponentName="name" Alias ="r.name"/>
		</OrderBys>
		<SQL>
			select @Fields
			from A_Role r
			@Wheres
			@OrderBy
			@Pager
		</SQL>
	</View>
</Views>