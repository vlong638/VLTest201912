<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Views>
	<View ViewName="">
		<Source SourceName="Data" DBSourceType="DefaultConnectionString">
			<Properties>
				<Property IsOn="true" ColumnName="*" Alias =""/>
			</Properties>
			<Wheres>
				<Where ComponentName="Name" Formatter="%@Name%"></Where>
				<Where ComponentName="DepartmentId"/>
				<Where ComponentName="CreatedAt"/>
			</Wheres>
			<SQLs> <!--UnitedBy="dizhibm"-->
				<SQL>
					select p.Id,p.Name,p.DepartmentId,p.CreatorId,p.CreatedAt,p.LastModifiedAt
					from Project as p 
					where 1=1
					<If Operator="NotEmpty" ComponentName="Name"> and p.name like @Name </If>
					<If Operator="NotEmpty" ComponentName="DepartmentId"> and p.DepartmentId = @DepartmentId </If>
					<If Operator="NotEmpty" ComponentName="CreatedAt"> 
					and p.CreatedAt &gt;= @CreatedAt
					and p.CreatedAt &lt; dateadd(day,1,@CreatedAt)
					</If>
				</SQL>
			</SQLs>
			<CountSQL>
				select count(*)
				from Project as p 
				where 1=1
				<If Operator="NotEmpty" ComponentName="Name"> and p.name like @Name </If>
				<If Operator="NotEmpty" ComponentName="DepartmentId"> and p.DepartmentId = @DepartmentId </If>
				<If Operator="NotEmpty" ComponentName="CreatedAt"> 
				and p.CreatedAt &gt;= @CreatedAt
				and p.CreatedAt &lt; dateadd(day,1,@CreatedAt)
				</If>
			</CountSQL>
		</Source>
	</View>
</Views>
